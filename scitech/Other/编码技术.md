# 编码技术

## Unary coding

一元编码，是一个表示自然数（0和正整数）的熵编码。

编码自然数n：n个1后面再跟一个0。

如果n是正整数，则可以化简为：n-1个1后面跟一个0。

> 0相当于一个分隔符，一个一元码比特流后面再跟下一个自然数的一元码。
>
> 0 1可以互换，即n个0后面再跟一个1。

例：

| n (non-negative) | n (strictly positive) | Unary code | Alternative |
| :--------------: | :-------------------: | :--------: | :---------: |
|        0         |           1           |     0      |      1      |
|        1         |           2           |     10     |     01      |
|        2         |           3           |    110     |     001     |
|        3         |           4           |    1110    |    0001     |
|        4         |           5           |   11110    |    00001    |
|        5         |           6           |   111110   |   000001    |
|        6         |           7           |  1111110   |   0000001   |
|        7         |           8           |  11111110  |  00000001   |
|        8         |           9           | 111111110  |  000000001  |
|        9         |          10           | 1111111110 | 0000000001  |

## Elias gamma coding

Elias gamma coding是一种通用代码，用于编码正整数序列。当不能事先确定整数的上界时，这种方法非常有用。

编码正整数$X$：

1. 找到使$2^N \le X$成立的最大正整数$N$，即$N=\left\lfloor\log _2 X\right\rfloor$。
2. 用unary code编码$N$。
3. 用$N$位二进制表示$X-2^N$。（$2^N \le X < 2^{N+1}$，所以$X-2^N<2^N$可以用$N$bits表示）

解码：按照语义恢复出来原数字即可。